[gd_scene load_steps=19 format=3 uid="uid://kivkb0ssvvng"]

[ext_resource type="PackedScene" uid="uid://jkw1uarjdt8w" path="res://Systems/Camera/Pfb_Camera_manager.tscn" id="2_ye5ed"]
[ext_resource type="Script" path="res://Systems/WorldEnvironment/GDs_WorldEnv.gd" id="3_2o16y"]
[ext_resource type="Material" uid="uid://c3mch4vry3068" path="res://#Wip/Mat_Debug/mat_grid_red.tres" id="3_3wffj"]
[ext_resource type="Material" uid="uid://bp3yxprxwed6i" path="res://#Wip/Mat_Debug/mat_grid_green.tres" id="3_qkbqw"]
[ext_resource type="PackedScene" uid="uid://b4t37awxd4iyt" path="res://Systems/Camera/Msh_Test_Heights.glb" id="5_6pq1q"]
[ext_resource type="Material" uid="uid://6mi22r3qgh48" path="res://#Wip/Mat_Debug/mat_grid_blue.tres" id="6_y3g0y"]
[ext_resource type="PackedScene" uid="uid://b7ksllhnb58g" path="res://Systems/Pin/Pfb_Pin_2D.tscn" id="8_7032c"]
[ext_resource type="PackedScene" uid="uid://buldaccfdos5u" path="res://Systems/Pin/Pfb_Pin_3D.tscn" id="9_jl2it"]
[ext_resource type="PackedScene" uid="uid://drokt740jfxrh" path="res://Systems/Compass/Pfb_Compass.tscn" id="10_cf2s4"]
[ext_resource type="PackedScene" uid="uid://b3k2kgkp18wn1" path="res://Systems/Minimap/Pfb_Minimap.tscn" id="11_jmruk"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_35h7c"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_3xgfe"]
sky_material = SubResource("ProceduralSkyMaterial_35h7c")

[sub_resource type="Environment" id="Environment_r00s3"]
background_mode = 2
sky = SubResource("Sky_3xgfe")
ambient_light_color = Color(0.961629, 0.961629, 0.961629, 1)
glow_enabled = true
adjustment_enabled = true

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_h1c62"]
dof_blur_far_enabled = true
dof_blur_far_distance = 0.01
dof_blur_far_transition = -1.0
dof_blur_amount = 0.0

[sub_resource type="PlaneMesh" id="PlaneMesh_g7w6c"]

[sub_resource type="BoxMesh" id="BoxMesh_1xbry"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_lg6gr"]
points = PackedVector3Array(0.322191, -0.0266984, 1.72116, -0.322191, -0.0266984, -1.72116, -0.537547, -0.0266984, -1.66758, -0.094396, 0.932728, -0.141446, 1.72116, 0.0270195, -0.322191, -1.66758, 0.0270195, 0.537547, -1.61365, -0.0266984, -0.699317, 1.12935, -0.0266984, -1.34437, 1.34437, 0.0808374, 1.02184, -0.860412, 0.0808374, 1.45188, 0.188299, 0.884513, 0.235226, 0.188304, 0.884525, -0.235232, -0.278418, 0.879214, 0.139209, 0.322191, 0.0808374, -1.66758, -0.968259, 0.0808374, -1.39863, 1.66758, -0.0266984, 0.537547, -1.34437, -0.0266984, 1.12935, 0.322191, 0.0808374, 1.66758, -1.61365, 0.0808374, -0.430038, 1.29112, 0.0808374, -1.07543, -0.322191, 0.0808374, -1.66758, -0.322191, 0.0808374, 1.66758, 0.968259, 0.0808374, 1.39863, 1.61365, 0.0808374, 0.430038, -1.34437, 0.0808374, -1.02184, 0.370795, 0.831942, -0.138903, -1.29112, 0.0808374, 1.07543, -0.139206, 0.879205, 0.278411, 0.860412, 0.0808374, -1.45188, -0.235243, 0.884544, -0.188313, -0.138919, 0.831983, -0.370839, 1.12935, -0.0266984, 1.34437)

[sub_resource type="BoxShape3D" id="BoxShape3D_x2cs2"]

[node name="DEMO" type="Node3D"]

[node name="---------------  [ CONTENT ]" type="Node" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="---------------  [ CONTENT ]"]
environment = SubResource("Environment_r00s3")
camera_attributes = SubResource("CameraAttributesPractical_h1c62")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="---------------  [ CONTENT ]"]
transform = Transform3D(-0.866024, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.75, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="Msh_Plano" type="MeshInstance3D" parent="---------------  [ CONTENT ]"]
transform = Transform3D(98.8334, 0, 0, 0, 98.8334, 0, 0, 0, 98.8334, 0, 0, 0)
material_overlay = ExtResource("3_qkbqw")
mesh = SubResource("PlaneMesh_g7w6c")
skeleton = NodePath("../..")

[node name="Mshs_Cubos" type="Node3D" parent="---------------  [ CONTENT ]"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(4.85479, 0, 0, 0, 4.85479, 0, 0, 0, 4.85479, 3.47632, 2.02322, -11.5222)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(3.44128, -0.109527, 2.90785, 0.115665, 4.25282, 0.0428748, -2.90786, 0.0395441, 3.44297, 21.9108, 2.16405, -5.27674)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D6" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(3.25033, 0, 5.49077, 0, 6.38069, 0, -5.49077, 0, 3.25033, -28.5709, 2.00626, 67.8694)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D7" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(1.05584, 0, 6.53632, 0, 11.0406, 0, -6.53632, 0, 1.05584, -37.826, 2.00626, 27.432)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D8" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(-0.984815, -0.0286052, 5.84084, 0.152019, 5.58952, 0.0563507, -5.83893, 0.15035, -0.983672, -9.16518, 2.19135, 51.2014)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D9" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(3.01737, 0, 5.09721, 0, 5.5916, 0, -5.09721, 0, 3.01737, -57.5333, 2.1049, 52.3178)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D18" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(3.91417, 0, -2.87198, 0, 4.85479, 0, 2.87198, 0, 3.91417, -6.12593, 2.02322, -68.3357)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D19" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(4.87007, 0, -1.28863, 0, 8.40033, 0, 1.28863, 0, 4.87007, 25.1846, 2.02322, -72.317)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D20" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(4.49475, -0.111699, 0.307668, 0.115665, 4.25282, 0.0428748, -0.308676, -0.0329113, 4.49611, 5.04218, 2.16405, -52.3949)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D21" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(3.63362, 0, -2.66613, 0, 4.25441, 0, 2.66613, 0, 3.63362, 7.81677, 2.09827, -89.1012)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D22" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(5.86879, 0, 2.5041, 0, 6.38069, 0, -2.5041, 0, 5.86879, -78.9302, 2.00626, -23.2848)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D23" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(4.71801, 0, 4.64529, 0, 11.0406, 0, -4.64529, 0, 4.71801, -62.4703, 2.00626, -61.3624)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D24" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(2.66017, -0.112007, 5.29108, 0.152019, 5.58952, 0.0563507, -5.29022, 0.104297, 2.66222, -53.424, 2.19135, -25.2433)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D25" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(5.44814, 0, 2.32462, 0, 5.5916, 0, -2.32462, 0, 5.44814, -93.0811, 2.1049, -52.9566)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D10" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(4.03671, 0, 2.69704, 0, 4.85479, 0, -2.69704, 0, 4.03671, 58.731, 2.0232, -20.9547)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D11" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(2.87535, 0, 4.13648, 0, 8.40033, 0, -4.13648, 0, 2.87535, 65.6895, 2.0232, -51.7407)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D12" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(1.24595, -0.0691021, 4.33056, 0.115665, 4.25282, 0.0428748, -4.32963, 0.0937272, 1.24736, 77.5287, 2.16403, -26.0028)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D13" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(3.74737, 0, 2.50372, 0, 4.25441, 0, -2.50372, 0, 3.74737, 43.9805, 2.09825, -41.1544)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D14" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(-0.347729, 0, 6.37121, 0, 6.38069, 0, -6.37121, 0, -0.347729, 76.1894, 2.00624, 62.862)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D15" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(-2.75328, 0, 6.02144, 0, 11.0406, 0, -6.02144, 0, -2.75328, 46.0292, 2.00624, 34.3805)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D16" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(-4.06263, 0.0597409, 4.31012, 0.152019, 5.58952, 0.0563507, -4.3079, 0.140906, -4.06274, 83.0653, 2.19134, 38.2221)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="MeshInstance3D17" type="MeshInstance3D" parent="---------------  [ CONTENT ]/Mshs_Cubos"]
transform = Transform3D(-0.322806, 0, 5.91455, 0, 5.5916, 0, -5.91455, 0, -0.322806, 43.468, 2.10488, 66.0209)
material_override = ExtResource("3_3wffj")
mesh = SubResource("BoxMesh_1xbry")
skeleton = NodePath("../../..")

[node name="test_cerro" type="Node3D" parent="---------------  [ CONTENT ]"]

[node name="Msh_test_cerro" parent="---------------  [ CONTENT ]/test_cerro" instance=ExtResource("5_6pq1q")]
transform = Transform3D(26.1336, 0, 0, 0, 26.1336, 0, 0, 0, 26.1336, -62.471, -9.49337, -62.785)

[node name="Sphere" parent="---------------  [ CONTENT ]/test_cerro/Msh_test_cerro" index="0"]
surface_material_override/0 = ExtResource("6_y3g0y")

[node name="Area3D" type="Area3D" parent="---------------  [ CONTENT ]/test_cerro/Msh_test_cerro"]
monitoring = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="---------------  [ CONTENT ]/test_cerro/Msh_test_cerro/Area3D"]
shape = SubResource("ConvexPolygonShape3D_lg6gr")

[node name="trigger_cerro" type="Area3D" parent="---------------  [ CONTENT ]/test_cerro"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="---------------  [ CONTENT ]/test_cerro/trigger_cerro"]
transform = Transform3D(61.7333, 0, 0, 0, 61.7333, 0, 0, 0, 61.7333, 0, 0, 0)
shape = SubResource("BoxShape3D_x2cs2")

[node name="---------------  [ SYSTEMS ]" type="Node" parent="."]

[node name="Camera" parent="---------------  [ SYSTEMS ]" instance=ExtResource("2_ye5ed")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.92457, 0, -51.6986)

[node name="WoldEnv" type="Node" parent="---------------  [ SYSTEMS ]" node_paths=PackedStringArray("camManager", "worldEnv")]
script = ExtResource("3_2o16y")
camManager = NodePath("../Camera")
worldEnv = NodePath("../../---------------  [ CONTENT ]/WorldEnvironment")

[node name="Pines_2D" type="Node" parent="---------------  [ SYSTEMS ]"]

[node name="Sprite_Pin" parent="---------------  [ SYSTEMS ]/Pines_2D" instance=ExtResource("8_7032c")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24.756, 7.77718, -33.2955)
siteName = "otro lugar"
pinColor = Color(0.147922, 0, 1, 1)
textOffset = Vector2(131.935, 0)

[node name="Pines_3D" type="Node" parent="---------------  [ SYSTEMS ]"]

[node name="Mesh_Pin" parent="---------------  [ SYSTEMS ]/Pines_3D" instance=ExtResource("9_jl2it")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.47835, 0)
textOffset = Vector2(52.085, -9.805)

[node name="---------------  [ UI ]" type="Node" parent="."]

[node name="UI_Compass" parent="---------------  [ UI ]" node_paths=PackedStringArray("camManager", "PinPos") instance=ExtResource("10_cf2s4")]
camManager = NodePath("../../---------------  [ SYSTEMS ]/Camera")
PinPos = NodePath("../../---------------  [ SYSTEMS ]/Pines_3D/Mesh_Pin")
minDistance = 20.0
maxDistance = 60.0

[node name="UI_Minimap" parent="---------------  [ UI ]" node_paths=PackedStringArray("cam_Manager", "mark_target") instance=ExtResource("11_jmruk")]
cam_Manager = NodePath("../../---------------  [ SYSTEMS ]/Camera")
map_Movement_Speed = 0.4
mark_target = NodePath("../../---------------  [ SYSTEMS ]/Pines_3D/Mesh_Pin")

[editable path="---------------  [ CONTENT ]/test_cerro/Msh_test_cerro"]
[editable path="---------------  [ SYSTEMS ]/Camera"]
